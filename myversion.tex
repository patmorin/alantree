\documentclass{patmorin}
\usepackage{pat}
\usepackage{graphicx}

\DeclareMathOperator{\exponential}{exponential}

\begin{document}
\section{Inequalities for Sums of Exponentials}

We will make use of two inequalities on sums of exponential random
variables, both of which can be obtained using Chernoff's bounding
method.  If $Z_1,\ldots,Z_k$ are independent $\exponential(\lambda)$
random variables (so that they each have mean $\mu=1/\lambda$), then
for all $d>1$,

\begin{equation}
    \Pr\left\{\sum_{i=1}^k Z_i \le \mu k/d\right\} \le \exp(-k(\ln d -1 + 1/d)) \le \left(\frac{e}{d}\right)^k  \eqlabel{head-bound}
\end{equation}
and for all $t>1$, 
\begin{equation}
    \Pr\left\{\sum_{i=1}^n Z_i \ge \mu k t\right\} \le \exp (k-kt/2) \enspace . \eqlabel{tail-bound}
\end{equation}



\section{The Exponential Process (First Passage Percolation)}

Consider the following process for growing a spanning tree, $T$, of an
$n$-vertex connected undirected graph $G$ starting from a distinguished
vertex $s\in V(G)$:  On each edge of $G$ we attach an $\exponential(1)$
timer.  When the timer on an edge $vw$ rings the timer is immediately
reset and, if exactly one of $v$ or $w$ is in $T$, then the edge $vw$
is added to $T$.  We call this \emph{Process~E} and we say that Process~E
is \emph{complete} once $T$ spans $G$.  Note that, by the memorylessness
of exponential random variables, Process~E is equivalent to selecting
an exponential(1) edge weight for each edge of $G$ and then computing
the shortest path tree rooted at $s$.  We call this latter process
\emph{Process~FP} (for first-passage percolation).

\begin{lem}\lemlabel{percolation}
  If $G$ has diameter $D$ then, with probability at least $1-1/n$, $T$
  is a spanning tree after time at most $((4\log n)/D+2)D$.
\end{lem}


\begin{proof}
  Let $v$ be a vertex of $G$ such that there exists a path
  $v_0,\ldots,v_k$ of length $k$ in $G$ from $s=v_0$ to $v=v_k$.
  Let $e_i=v_{i-1}v_i$ be the $i$th edge on this path.

  For each $i\in\{1,\ldots,k\}$, the vertex $v_i$ joins the tree at some
  time $t_i$.  Once this happens, the vertex $v_{i+1}$ will join the tree
  at or before the next ring of the timer on edge $e_{i+1}$.  (Note that
  $v_{i+1}$ may join the tree before this ring and even before $t_i$.)
  By the memoryless property of exponentials, this next ring occurs at
  time $t_i+Z_i$ where $Z_i$ is a an exponential random variable with
  rate 1.  Therefore, the random variable $t_k$ is dominated by the sum
  of $k$ independent exponentials $Z_1,\ldots,Z_k$.  Therefore,
  \begin{align*}
      \Pr\left\{t_k\ge \left(\frac{4\log n}{k}+2\right)k\right\} 
        & \le \Pr\left\{Z_1+\cdots Z_k\ge \left(\frac{4\log n}{k}+2\right)k\right\} \\ 
        & \le \exp\left(k - \left(\frac{4\log n}{k}+2\right)k/2\right) 
            & \text{using \eqref{tail-bound}} \\
      & = 1/n^2 \enspace .
  \end{align*}
  For each $v\in V(G)$, let $t(v)$ denote the time at which $v$ joins
  the tree $T$ and define $t=\max\{t(v):v\in V(G)\}$
  as the time at which the last vertex of $G$ joins 
  $T$.  For each vertex $v$, $G$ contains a path from $s$ to $v$ of length
  at most $D$, so
  \[
      \Pr\{t> ((4\log n/D)+2)D\} \le \sum_{v\in V(G)}\Pr\{t(v) \ge ((4\log n/D)+2)D\}     
       \le 1/n \enspace . \qedhere
  \]
\end{proof}

\section{The Random Edge Choice Process}

Now note that the tree, $T$, that results from the preceding process
is distributed in the same way as the spanning tree that one gets by
starting with the tree $T=(\{s\},\emptyset)$ and repeatedly choosing
a uniform random edge $vw$ and adding $vw$ to $T$ if and only if $vw$
has exactly one endpoint in $V(T)$.  We the call second version Process~B.
That Process~E and Process~B produce identically distributed spanning
trees follows from the memorylessness of exponential random variables.
In particular, at any point in time, each of the $|E(G)|$ timers in
Process~E is equally likely to be the next timer to ring.

\subsection{The Upper Bound}

\begin{thm}\thmlabel{alantree-upper-bound}
  If $G$ has diameter $D$ and maximum degree $\Delta$ then after running
  Process~B to completion, with probability at least $1-O(1/n)$, the spanning
  tree $T$ has diameter at most $2\Delta e(4\log n/D)+2)D$.
\end{thm}

\begin{proof}
  Let $P=v_0,v_1,\ldots,v_L$ be some simple path in $G$ starting at
  $s=v_0$ and let $e_i=v_{i-1}v_i$ be the $i$th edge on this path.
  In the model of Process~E, this path can not appear before the timer
  on $e_1$ rings, and then the timer on $e_2$ rings, and so on, until the
  timer on $e_L$ rings.  Let $t_L$ be the time at which this first occurs.
  Then $t_L$ is lower-bounded by the sum of $L$ independent exponential(1)
  random variables.  Using \eqref{head-bound}, we obtain
  \[
      \Pr\{t_L\} \le L/d \le \left(\frac{e}{d}\right)^L \enspace .
  \]
  If $P$ appears in $T$, then either $t_L < ((4\log n/D)+2)D$ or $T$ is not
  yet a spanning tree of $G$ at time $((4\log n/D)+2)D$.  
  Therefore by the preceding discussion and \lemref{percolation}, 
  \[
      \Pr\{\text{$P$ appears in $T$}\} \le 1/n 
        + \left(\frac{e((4\log n/D)+2)D}{L}\right)^L \enspace .
  \]
  Let $P_L$ be the set of all simple paths in $G$ that start at $s$ and have length $L$.  The probability that $T$ contains any path from $P_L$ is at most
  \[
      1/n + |P_L|\left(\frac{e((4\log n/D)+2)D}{L}\right)^L 
      < 1/n + \left(\frac{\Delta e((4\log n/D)+2)D}{L}\right)^L \enspace ,
  \]
  since $|P_L|\le \Delta^L$.
  Finally, the probability that $T$ contains any path of length at least
  $L'=2\Delta e(4\log n/D)+2)D$ is at most
  \[
     \frac{1}{n}+\sum_{L=L'}^{n-1} \left(\frac{\Delta ec(D+\log n)}{L}\right)^L <  \frac{1}{n}+\sum_{L=L'}^{n-1} (1/2)^L < 2/n \enspace . \qedhere
  \]
\end{proof}



\subsection{The Lower Bound}

Note that \thmref{alantree-upper-bound} is obviously asymptotically
tight for graph with maximum degree $\Delta\in O(1)$ and diameter
$D\in\Omega(\log n)$.  For instance, \thmref{alantree-upper-bound}
shows that, for constant $d$, running Process~B on a $n^{1/d}\times
\cdots\times n^{1/d}$ grid or toroidal grid produces a
spanning tree of diameter $\Theta(n^{1/d})$.

However, \thmref{alantree-upper-bound} is not tight for some graphs, like
the $d$-dimensional hypercube, which has $n=2^d$ vertices, maximum degree
$\Delta = d/2 \in \Theta(\log n)$ and diameter $D=d\in\Theta(\log n)$.
In this setting, a different argument shows that Process~B produces a
spanning tree of diameter $\Theta(\log n)$ rather than the $O(\log^2 n)$
bound given by \thmref{alantree-upper-bound}.

Thus, makes it natural to wonder if one can eliminate or reduce the
dependence on $\Delta$ in \thmref{alantree-upper-bound}.  Intuitively,
higher degree should produce spanning trees of lower diameter.  However,
the example of a sequence of $D/2$ $(\Delta-1)$-cliques joined in sequence
(see \figref{clique-path}) shows that Process~B may produce spanning
trees of diameter $\Omega(D\log\Delta)$.  Therefore, the dependence on
$\Delta$ can not be eliminated entirely.

\begin{figure}
  \begin{center}
    \includegraphics{clique-path}
  \end{center}
  \caption{A sequence of $D/2$ $(\Delta-1)$-cliques gives a graph $G$
   with diameter $D$ and maximum degree $\Delta$ for which Process~B
   produces a spannning tree of height $\Omega(D\log\Delta)$.}
  \figlabel{clique-path}
\end{figure}

Here we show that, for any $\Delta$ and any $D\in\Omega(\log^2\Delta)$,
we can construct a graph $G=G_{D,\Delta}$ of diameter $D$ and maximum
degree $\Delta$ for which Process~B produces a spanning tree of diameter
$\Omega(\Delta D)$.  Thus, the upper-bound \thmref{alantree-upper-bound}
is tight for these graphs.  

The graph $G$ is obtained by gluing together two graphs $H$ and $I$.
The graph $G$ has high diameter and high connectivity.  The graph $I$
has low connectivity and low diameter.  By joining them we obtain a graph
of low diameter (because of $I$) but for which Process~B is more likely
to find paths in $H$ (because of its high connectivity).  We begin by
defining any studying $H$ and $I$ independently.


\subsection{The Ladder Graph $H$}

Fix some integers $L,\delta\in\N$ to be described later.  Refer to
\figref{h}.  The graph $H$ has a special vertex $s$ and $L$ groups of
vertices $V_1,\ldots,V_L$, each containing $\delta$ vertices.  The graph 
$H$ has vertex set
\[
   V(H) = \{s\}\cup\bigcup_{i=1}^L V_i
\]
and edge set
\[
   E(H) = \{sv : v\in V_1\}
       \cup \{vw : v\in V_{i},\, w\in V_{i+1}\} \enspace .
\]
\begin{figure}
  \begin{center}
    \includegraphics{h} 
  \end{center}
  \caption{The graph $H$.}
  \figlabel{h}
\end{figure}

First we show that $H$, under the models of Process~E and Process~FP
has very low-weight paths between its vertices.

\begin{lem}\lemlabel{lightning}
   Fix some vertex $v\in V_i$ and $w\in V_j$, $j>i$, and assign an
   independent $\exponential(1)$ weight to each edge of $H$.  Let $d(v,w)$
   denote the weight of the minimum weight path from $v$ to $w$ in the
   resulting weighted graph.  Then,
   \[
       \Pr\{d(v,w) > t(j-i-1)/\delta + r) \} \le
         \exp(-(t-1)(j-i-1)/2) + \exp(-r) \enspace .
   \]
\end{lem}

\begin{proof}
   Consider the following greedy algorithm for finding a path from $v$
   to $w$: When the path has reached some vertex $x\in V_{k}$, for
   $k<j-1$, the algorithm extends the path by taking the minimum weight
   edge between $x$ and some vertex in $V_{k+1}$.  When the algorithm
   reaches some $x\in V_{j-1}$, it takes the edge $xw$.

   Let $m=j-i$.
   Each of the first $m-1$ edges in the resulting path has a
   weight that is the minimum of $\delta$ $\exponential(1)$ random
   variables.  Thus, the weight of these edges is the sum of $m-1$
   $\exponential(\delta)$ random variables $X_1,\ldots,X_{m-1}$.  
   By \eqref{tail-bound}, 
   \begin{equation}
     \Pr\left\{\sum_{\ell=1}^{m-1} X_\ell > t(m-1)/\delta \right\} \le 
        \exp(-(t-1)(m-1)/2) \enspace .  \eqlabel{part-i}
   \end{equation}
   The last edge in this path has a weight $X_m$ that is an
   $\exponential(1)$ random variable.  From the definition
   of the exponential distribution,
   \begin{equation}
      \Pr\{X_m > r\} = \exp(-r)) \enspace . \eqlabel{part-ii}
   \end{equation}
   If $\sum_{\ell=1}^{m-1} X_\ell \le t(m-1)/\delta$ and $X_m \le r$, then
   $d(v,w)\le t(j-i-1)/\delta + r$, so we complete the proof by 
   applying the union bound to \eqref{part-i} and \eqref{part-ii}.
\end{proof}

\subsection{The Subdivided Tree $I$}

Next, we consider a graph $I$ that is a binary tree with $L$ leaves,
where $L$ is a power of 2.  We can think of $I$ as a complete binary tree
with $L$ leaves whose edges have been subdivided.  More specifically,
at a node $v$ of height $h$ in this tree, we subdivide the edges leading
to $v$'s children
\[
   s(h) = a\cdot\max\{2^h/\delta,\log L\} 
\]
times so that each edge becomes a path of length $s(h)$.  Here $a$ is a
(sufficiently large) constant that is discussed later.  The resulting
tree has $L$ leaves, $L-1$ degree 3 nodes, and the remaining nodes are
degree 2 nodes.  The height of this tree is
\[
   a\cdot\sum_{h=0}^{\log L} \max\{\log L, 2^h/\delta\}
     = O( (\log\delta+\log\log L)\log L + L/\delta ) \enspace .
\]


\begin{lem}\lemlabel{slow-train}
   Assign $\exponential(1)$ independent edge weights to each of the edges
   of $I$, and let $v$ and $w$ be two leaves of $I$ such that the path from $u$ to $w$ visits $2h+1$ degree 3 nodes.  Then, 
   \[  
        \Pr\{d(v,w) \le 2s(h)/c  \} \le \left(\frac{e}{c}\right)^{s(h)} \enspace .
   \]
\end{lem}

\begin{proof}
   The path from $v$ to $w$ goes through a node that (before subdividing
   edges of $I$) had height $h$. Therefore, $d(u,w)$ is lower bounded
   by the sum of $2s(h)$ $\exponential(1)$ random variables.  The lemma
   now follows from \eqref{head-bound}.
\end{proof}

\subsection{Putting it Together}

The lower-bound graph $G$ is now constructed by taking a tree $I$ with
$L$ leaves and a graph $H$ with $L$ groups $V_1,\ldots,V_L$ each of
size $\delta=\lfloor(\Delta-1)/2\rfloor$.  Next, we consider the leaves of $I$ in the order they are encountered in a depth first-traversal of $I$ and, for each $i\in\{1,\ldots,L\}$ we identify the $i$th leaf of $I$ with some vertex in $V_i$.  See \figref{g}.

\begin{figure}
  \begin{center}
    \includegraphics{g}
  \end{center}
  \caption{The lower bound graph $G$.}
  \figlabel{g}
\end{figure}

Note that the graph $G$ has maximum degree $\Delta=2\delta+1$.
Furthermore, every vertex of $G$ is either in $I$, or adjacent to a
vertex in $I$.  Therefore, the diameter of $G$ is at most two more than
twice the height of $I$. Therefore $G$ has diameter
\[
   D\in O((\log\delta + \log\log L)\log L + L/\delta) = O(L/\Delta)
\]
for $L\in\Omega(\Delta\log\Delta\log\log\Delta)$.  That is, for any
$\Delta$ and any $D\in\Omega(\log\Delta\log\log\Delta)$ we can construct
a graph $G$ with diameter maximum degree $\Delta$ and diameter $D$.

\begin{thm}
  If we run Process~B on the graph $G$ defined above starting at some
  vertex $s\in V_1$, then with probability at least $1-\exp(-cL)$,
  the resulting spanning tree contains a path of length at least $L$.
\end{thm}

\begin{proof}
  In the Process~FP view, we assign each edge of $G$ an $\exponential(1)$
  edge weight and compute a shortest path tree rooted at $s$ in the
  resulting weighted graph.  Fix $1\le i< j\le L$ and consider the two
  vertices $v\in V_i\cap V(I)$ and $w\in V_j\cap V(I)$ that are common
  to $H$ and $I$.

  In $I$, there is a unique path $P_I$ from $v$ to $w$.  This path
  contains at least $2s(h)$ edges, for $h=\lceil\log j-i+1 \rceil$.
  By \lemref{slow-train}, 
  \[
     \Pr\{w(P_I) \le 2s(h)/c\} \le \left(\frac{e}{c}\right)^{s(h)} \enspace .
  \]

  On the other hand, \lemref{lightning} says that the minimum weight path
  $P_H$ from $v$ to $w$ in $H$ satisfies
  \[
     \Pr\{w(P_H) \ge t((j-i-1)/\delta)+r\} \le \exp(-(t-1)(j-i-1)/2) + \exp(-r)
  \]
  Taking $r=s(h)/(2c)$ and
  \[
      t = \frac{\delta s(h)}{2c(j-i-1)} \enspace, 
  \]
  we obtain
  \begin{align*}
     \Pr\{w(P_H) > w(P_I)\} & \le \exp(-(t-1)(j-i-1))/2 + \exp(-r) \\
         & \le \exp\left(-\delta s(h)/(4c) + (j-i-1)/2\right)
                               + \exp(-s(h)/(2c)) \\
         & \le \exp\left(-a2^h/(4c) + (j-i-1)/2\right)
                               + \exp(-a\log L/(2c)) \\
         & \le \exp\left(-a(j-i+1)/(4c)) + (j-i-1)/2\right)
                               + \exp(-a\log L/(2c)) \\
         & \le \exp\left(-a(j-i+1)/(4c)) + (j-i-1)/2\right)
                               + \exp(-a\log L/(2c)) \\
  \end{align*}
 \end{proof}

\end{document}

%Let $H=(V,E)$
%
%\begin{lem}
%  For every $D,\Delta\in\N$, there exists a graph $G$ with diameter
%  $D$ and maximum degree $\Delta$ such that after running Process~B
%  to completion, the expected height of $T$ is $\Omega(\Delta D)$.
%\end{lem}
%
%\begin{proof}
%  The graph $G$ is constructed as follows.  Start with a vertex $s$ and
%  $L$ groups $V_1,\ldots,V_L$ each containing $\delta$ vertices. There
%  is an edge joining $s$ to every vertex in $V_1$ and, for each
%  $i\in\{1,\ldots,L-1\}$, every vertex in $V_i$ is adjacent to every
%  vertex in $V_{i+1}$.  Call this graph $G^-$.
%
%  Next, we augment $G^-$ by selecting one evertex $v_i$ from each group
%  $V_i$ and building a complete binary tree, $T_G$ whose leaves, in order,
%  are $v_1,\ldots,v_L$.  Finally, we subdivide the edges of $T_G$ as follows:
%  If $v$ is a node of height $h\ge 1$ in $T_G$, then we subdivide the two
%  edges leading to $v$'s children into paths of length
%  \[
%      s(h) = a\cdot\max\{\log L, 2^h/\delta\} \enspace .
%  \]
%  Call the resulting tree $T_G'$.  The graph $G$ is the union of $G^-$ and $T_G'$.
%
%  Now, between any two vertices in $G$ there is path all but two of
%  whose edges are in $T_G'$ and of length at most
%  \[
%      D = 2+\sum_{h=1}^{\log L} s(h) = O(L/\Delta) \enspace .
%  \]
%  TODO: Do this calculation more carefully.
%
%  Now, imagine runing Process~FP on $G$.  First consider the subgraph
%  $G^-$.  Starting at $s$ and taking the lowest weight edge leads us to
%  some vertex in $V_1$.  From there we can take the lowest-weight edge to
%  reach a vertex in $V_2$, and so on, until reaching $V_L$.  The weight
%  of the resulting path is the sum of $L$ $\exponential(1/\delta)$
%  random variables.  For $t>1$, the probability that the weight of
%  this path exceeds $(b+1)L/\delta$ is therefore at most $\exp(-bL)$.
%  Therefore, with probability at least $1-\exp(-tL)$, the shortest path
%  in $P$ in $G^-$ from $s$ to any vertex $t$ in $V_L$ has weight at
%  most $(b+1)L/\Delta$.
%
%  The path $P$ will be will appear in the tree $T$ generated by Process~FP
%  unless there are are $i,j \in\binom{[L]}{2}$ such that the tree $T_G'$
%  contains a path from $v_i$ to $v_j$ of weight less than
%
%
%  
%
%
%  groups   
%  The graph $G$ is constructed as follows: Start with a complete
%  $\delta$-ary tree, $T_G$ of height $L=aD\Delta$ for some constant $a$
%  and some $\delta < \Delta$, each specified later.  Next, for each
%  root-to-leaf path $P$ in $T_G$, create a complete binary tree $T_P$
%  whose leaves are the vertices of $P$ in the same order they appear
%  in $P$.  Finally, subdivide each edge $e$ of $T_P$  $L/(\Delta \log_2
%  L)$ times so that $e$ becomes a path of length $L/(\Delta\log_2 L)$.
%
%  We claim that the resulting graph, $G$, has diameter $D\in O(L/\Delta)$.
%  (This isn't hard to show; For any two vertices in $T_G$, route to
%  their lowest common ancestor in $T_G$ using the two trees attached
%  to root-to-leaf paths.)  
%
%  Note that, as described above, the graph $G$ would have maximum degree
%  $\delta+\delta_L$, since the root of $T_G$ takes part in $\delta^L$
%  root-to-leaf paths.  To prevent this, we identify pairs of vertices in
%  these trees as follows:  Each vertex of $T_P$ corresponds to a segment
%  of root-to-leaf path in $T_G$.  If two vertices $v$ and $w$ from two
%  different trees $T_P$ and $T_Q$ correspond to the same segment, then
%  we identify $v$ and $w$.  We claim that the resulting graph has maximum
%  degree $\delta^2$. (This is either easy to prove, or not true.)
%
%  Let $s$ be the root of $T_G$.  Now, assign exponential(1) edge weights
%  to the edges of $G$.  First focus on a special subtree of $T_G$
%  obtained by starting at $s$ keeping only each child $w$ of $s$ in $T_G$
%  such that the edge weight on $sw$ is at most $c/\delta$ for some
%  constant $c$ discussed later.  We then do this recursively for each
%  such child $w$ of $s$ that survives.
% 
%  The tree $T'_G$ that results from this is a truncated Galton-Watson
%  tree in which the expected number of children at any node is (slightly
%  greater than) $c$.  Therefore, with probability at least $p$ (insert
%  a constant here---$p=1/2$?), $T'_G$ has at least $c^{L}$ leaves.
%
%  Now, consider one of the root-to-leaf paths, $P$, in $T'_G$.  Attached
%  to this path is a (subdivided) tree $T_P$.  Each vertex $v$ of $T_P$ is
%  the root of a subtree of height $h$ whose leaves are a subpath of $P$
%  of length $2^h$.  (Here the height $h$ is the height of $v$ in $T_P$
%  before subdividing edges.)  Now $v$ is incident to two edges $e_1$
%  and and $e_2$ leading to its two children in $T_P$.  After subdividing,
%  $e_1$ and $e_2$ become paths of length $L/(\Delta\log_2 L)$.
%  We say that $v$ is \emph{unlucky} if the sum of edge weights on each
%  of these paths exceeds $2^h/\delta$. 
%
%  The probability that one of these sums exceeds $2^h/\delta$ is the probability
%  that the sum of $k=L/(\delta\log_2(L)$ independent exponential(1) random variables exceeds $2^{h}/\Delta$:
%  \begin{align*}
%      \Pr\{\sum_{i=1}^{k} X_i \ge 2^{h}/\Delta\}
%          & \approx \exp(-k (k/-k^2\delta/2^{h})
%          & = \exp(-L^2/(\delta 2^{h}\log^2 L))
%  \end{align}
%
%
$c and, after subdivding, 
%+
%
%branching process defineds on $T_G$ as follows.  Start at $s$ and make
%  it adadd each
%  every child of $
%the root 
%
%two vertices $v$ and $w$ of two such trees $T_P$ and $T_Q$ if 
%
%
% 
%  To see this, note the each tree $T_P$ has height $\log_2(L)$, but each
%  edge of $T_P$ was subdivided $L/(\Delta\log_2 L)$ times.  Therefore,
%  the graph induced by the vertices of $T_P$ has diameter $O(L/\Delta)$.
%
%  Now, for 
%
%, so it has height
%  $L/(\Delta \log_2 D)$
%
%  Notice that the resulting graph has diameter $L/\Delta$
%
%
%  The graph $G$ consists of a $\delta$-ary tree for some $\delta = D-2$.
%
%
%
%  The graph $G$ is constructed by starting with a complete $b$-ary tree
%  $U$ of height $h$.  Next we add a vertex $w$ and a separate path of
%  length $k$ from $w$ to each vertex of $T$.  Call the resulting graph
%  $G$ an observe that the average degree of $G$ is $\Delta =O(b)$ and
%  that the diameter of $G$ is at most $D=2k$.
%
%  Consider the \emph{greedy path} in $U$ that starts at $s$ and
%  proceeds to the first child, $u$, of $s$ whose timer rings, and then
%  to the first child of $u$ whose timer rings, and so on until reaching
%  a leaf of $U$. Let $t_1$ denote the time at which the greedy path
%  reaches a leaf of $U$ and note that the greedy path will appear in
%  the tree $T$ generated by Process~E at time $t_1$ unless $w$ joins
%  $T$ before time $t_1$ (in which case the greedy path may
%  or may not appear in $T$).
%
%  The time $t_1$ is the sum of independent random variables
%  $Z_1,\ldots,Z_h$, where each $Z_i$ is the minimum of $d$ exponential(1)
%  random variables, so each $Z_i$ is an exponential with mean $1/b$.
%  The mean of $t_1$ is therefore $h/b$ and, for any $a>1$, with
%  probability at least $1-\exp((1-a)h)$,  $t_1\le ah/b$.\footnote{Check
%  this last tail bound.}
%
%  We now study the time at which $w$ joins $T$.  Notice that this happens
%  through some path that starts at $s$, walks in $U$ until some vertex $u$,
%  and then walks $k$ more steps outside of $U$ from $u$ to $w$.  When this
%  happens we say that \emph{$w$ joins $T$ through $u$}.
%  Fix a vertex $u$ at depth $r$ in $U$.  The probability that $w$ joins
%  $T$ through $u$ by time $ah/b$ is at most the probability that the $r+k$
%  relevant exponential(1) timers $Z_1,\ldots,Z_{r+k}$ sum to at most $ah/b$:
%  \[
%  \Pr\{\text{$w$ joins $T$ through $u$ by time $ah/b$}\} \le 
%  \Pr\left\{\sum_{i=1}^{r+k} Z_k \le ah/b\right\} = \left(\frac{eah}{b(r+k)}\right)^{r+k} \enspace .
%  \]
%  The tree, $U$ has $b^r$ vertices of depth $r$, so 
%  \begin{align*}
%   \Pr\{\text{$w$ joins $T$ by time $ah/b$}\} 
%      & \le \sum_{r=0}^h b^r \left(\frac{eah}{b(r+k)}\right)^{r+k} \\
%      & == \sum_{r=0}^h b^{-k} \left(\frac{eah}{r+k}\right)^{r+k} 
%    \enspace \ldots
%  \end{align*}
%  CRAP!
%\end{proof}
%
%
%Notice that, except for $w$, every vertex in the graph $G$ created in
%the preceding proof has degree at most $b+1$.  
\end{document}
