\documentclass{patmorin}
\usepackage{pat}


\begin{document}
\section{Inequalities for Sums of Exponentials}

We will make use of two inequalities on sums of exponential random
variables, both of which can be obtained using Chernoff's bounding method.
If $Z_1,\ldots,Z_k$ are independent exponential random variables, each
with mean $\lambda=1$, then for all $d>1$,
\begin{equation}
    \Pr\left\{\sum_{i=1}^k Z_i \le k/d\right\} \le \exp(-k(\ln d -1 + 1/d)) \le \left(\frac{e}{d}\right)^k  \eqlabel{head-bound}
\end{equation}
and for all $t>1$, 
\begin{equation}
    \Pr\left\{\sum_{i=1}^n Z_i \ge tk\right\} \le \exp (k- k t/2) \enspace . \eqlabel{tail-bound}
\end{equation}


\section{The Exponential Process (First Passage Percolation)}

Consider the following process for growing a spanning tree, $T$, of an
$n$-vertex connected undirected graph $G$ starting from a distinguished
vertex $s\in V(G)$.  On each edge of $G$ we attach an exponential timer
with rate 1. When the timer on an edge $vw$ rings the timer is immediately
reset and, if exactly one of $v$ or $w$ is in $T$, then the edge $vw$
is added to $T$.  We call this \emph{Process~E} and we say that Process~E
is \emph{complete} once $T$ spans $G$.

\begin{lem}\lemlabel{percolation}
  If $G$ has diameter $D$ then, with probability at least $1-1/n$, $T$
  is a spanning tree after time at most $c(D+\log n)$.
\end{lem}


\begin{proof}
  Let $v$ be a vertex of $G$ such that there exists a path
  $v_0,\ldots,v_k$ of length $k$ in $G$ from $s=v_0$ to $v=v_k$.
  Let $e_i=v_{i-1}v_i$ be the $i$th edge on this path.

  For each $i\in\{1,\ldots,k\}$, the vertex $v_i$ joins the tree at some
  time $t_i$.  Once this happens, the vertex $v_{i+1}$ will join the tree
  at or before the next ring of the timer on edge $e_{i+1}$.  (Note that
  $v_{i+1}$ may join the tree before this ring and even before $t_i$.)
  By the memoryless property of exponentials, this next ring occurs at
  time $t_i+Z_i$ where $Z_i$ is a an exponential random variable with
  rate 1.  Therefore, the random variable $t_k$ is dominated by the sum
  of $k$ independent exponentials $Z_1,\ldots,Z_k$.
  In particular, using \eqref{tail-bound},
  \[
      \Pr\{t_k\ge c(k+\log n)\} \le \Pr\{Z_1+\cdots Z_k\ge c(k+\log n)\} \le 1/n^2 \enspace .
  \]
  For each $v\in V(G)$, let $t(v)$ denote the time at which $v$ joins
  the tree $T$ and define $t=\max\{t(v):v\in V(G)\}$
  as the time at which the last vertex of $G$ joins 
  $T$.  Then,
  \[
      \Pr\{t> c(D+\log n)\} \le \sum_{v\in V(G)}\Pr\{t(v) \ge c(D+\log n)     
       \le 1/n \enspace . \qedhere
  \]
\end{proof}

\section{The Random Edge Choice Process}

Now note that the tree, $T$, that results from the preceding process
is distributed in the same way as the spanning tree that one gets by
starting with the tree $T=(\{s\},\emptyset)$ and repeatedly choosing
a uniform random edge $vw$ and adding $vw$ to $T$ if and only if $vw$
has exactly one endpoint in $V(T)$.  We the call second version Process~B.
That Process~E and Process~B produce identically distributed spanning
trees follows from the memorylessness of exponential random variables.
In particular, at any point in time, each of the $|E(G)|$ timers in
Process~E is equally likely to be the next timer to ring.

\subsection{The Upper Bound}

\begin{lem}\lemlabel{alantree-upper-bound}
  If $G$ has diameter $D$ and maximum degree $\Delta$ then after running
  Process~B to completion, with probability at least $1-O(1/n)$, the spanning
  tree $T$ has diameter at most $2c\Delta(D+\log n)$.
\end{lem}

\begin{proof}
  Let $P=v_0,v_1,\ldots,v_L$ be some simple path in $G$ starting at
  $s=v_0$ and let $e_i=v_{i-1}v_i$ be the $i$th edge on this path.
  In the model of Process~E, this path can not appear before the timer
  on $e_1$ rings, and then the timer on $e_2$ rings, and so on, until the
  timer on $e_L$ rings.  Let $t_L$ be the time at which this first occurs.
  Then $t_L$ is lower-bounded by the sum of $L$ independent exponential(1)
  random variables.  Using \eqref{head-bound}, we obtain
  \[
      \Pr\{t_L\} \le L/d \le \left(\frac{e}{d}\right)^L \enspace .
  \]
  If $P$ appears in $T$, then either $t_L < c(D+\log n)$ or $T$ is not
  yet a spanning tree of $G$ at time $c(D+\log n)$.  
  Therefore by the preceding discussion and \lemref{percolation}, 
  \[
      \Pr\{\text{$P$ appears in $T$}\} \le 1/n 
        + \left(\frac{ec(D+\log n)}{L}\right)^L \enspace .
  \]
  Let $P_L$ be the set of all simple paths in $G$ that start at $s$ and have length $L$.  The probability that $T$ contains any path from $P_L$ is at most
  \[
      1/n + |P_L|\left(\frac{\Delta ec(D+\log n)}{L}\right)^L 
      < 1/n + \left(\frac{\Delta ec(D+\log n)}{L}\right)^L \enspace ,
  \]
  since $|P_L|\le \Delta^L$.
  Finally, the probability that $T$ contains any path of length at least
  $L'=2\Delta ec(D+\log n)$ is at most
  \[
     \frac{1}{n}+\sum_{L=L'}^{n-1} \left(\frac{\Delta e L}{c(D+\log n)}\right)^L <  \frac{1}{n}+\sum_{L=L'}^{n-1} (1/2)^L < 2/n \enspace . \qedhere
  \]
\end{proof}

\subsection{The Lower Bound}

\begin{lem}
  For every $\epsilon >0$, and every integer $\Delta\in \N$, there
  exists a graph $G$ There exists a graph $G$ with diameter $D\in
  O(1/\epsilon)$ and average degree $\Delta$ such that after running
  Process~B to completion, with probability at least $1-O(1/n)$, the
  spanning tree $T$ has diameter at least $c\Delta^{1-\epsilon}$.
\end{lem}

\begin{proof}
  Fix some parameters $\alpha,\beta\in (0,1)$ to be specified later.

  The graph $G$ is constructed by starting with ac complete $b$-ary
  tree $U$ of height $h=b^{\alpha}$.  Next we add a vertex $w$ and a
  separate path of length $k$ from $w$ to each vertex of $T$.  Call the
  resulting graph $G$ an observe that the average degree of $G$ is $O(b)$
  and that the diameter of $G$ is at most $D=2k$.

  Consider the \emph{greedy path} in $U$ that starts at $s$ and
  proceeds to the first child, $u$, of $s$ whose timer rings, and then
  to the first child of $u$ whose timer rings, and so on until reaching
  a leaf of $U$. Let $t_1$ denote the time at which the greedy path
  reaches a leaf of $U$ and note that the greedy path will appear in
  the tree $T$ generated by Process~E at time $t_1$ unless $w$ joins
  $T$ before time $t_1$ (in which case the greedy path may
  or may not appear in $T$).

  The time $t_1$ is the sum of independent random variables
  $Z_1,\ldots,Z_h$, where each $Z_i$ is the minimum of $d$ exponential(1)
  random variables, so each $Z_i$ is an exponential with mean $1/b$.  The
  mean of $t_1$ is therefore $h/b$ and, for any $a>1$, with probability
  at least $1-\exp((1-a)h)$,  $t_1\le ah/b$.\footnote{Check this last tail bound.}

  We now study the time at which $w$ joins $T$ and notice that his happens
  through some path that starts at $s$ walks in $U$ until some vertex $u$
  and then walks $k$ more steps outside of $U$ from $u$ to $w$.  When this
  happens we say that \emph{$w$ joins $T$ through $u$}.
  Fix a vertex $u$ at depth $r$ in $U$.  The probability that $w$ joins
  $T$ through $u$ by time $ah/b$ is at most the probability that the $r+k$
  relevant exponential(1) timers $Z_1,\ldots,Z_{r+k}$ sum to at most $ah/b$:
  \[
  \Pr\{\text{$w$ joins $T$ through $u$ by time $ah/b$}\} \le 
  \Pr\left\{\sum_{i=1}^{r+k} Z_k \le ah/b\right\} = \left(\frac{ea}{b^{1-\alpha}(r+k)}\right)^{r+k} \enspace .
  \]
  Now, $t$ has $b^r$ vertices of depth $r$, so 
  \[
   \Pr\{\text{$w$ joins $T$ by time $ah$}\} \le 
  \Pr\left\{\sum_{i=1}^{r+k} Z_k \le ah\right\} \le \sum_{r=0}^h b^r 
         \left(\frac{ea}{b^{1-\alpha}(r+k)}\right)^{r+k} \enspace .
  \]

In particular, we 


first time at which a leaf of $T_2$ joins $T$.
  Let $t=ah/\Delta^{\alpha}$ and consider the expected number of leaves, $\ell$,
  of $T_2$ that have joined $T$ by time $t$ through a path from $s$
  to a vertex $w$ in $T_1$ and then a path outside of $T_1$ from $w$
  to $\ell$.  Note that the first leaf of $T_2$ to join $T$ is joined
  by such a path.  Therefore, if the expected number of such paths is
  at most $p$ then we can conclude that with probability at least $1-p$,
  no leaf of $T_2$ has joined $T$ by time $t$.

  If $w$ has depth $r$, then the cost of the path from $s$ to $w$
  is the sum of $r$ independent exponential(1) random variables,
  $X_1,\ldots,X_r$.  The cost of the path from $w$ to $\ell$
  is the sum of $k$ independent exponential(1) random variables
  $X_{r+1},\ldots,X_{r+k}$.  Therefore,
  \[
    \Pr\{\text{$\ell$ joins $T$ by time $t$}\} =
    \Pr\left\{\sum_{i=1}^{r+k}X_i \le t\right\}
      \le \left(\frac{te}{r+k}\right)^{r+k}
      = \left(\frac{ahe}{\Delta^{\alpha}(r+k)}\right)^{r+k} 
      = \left(\frac{a\Delta^{\alpha\beta}e}{\Delta^{\alpha}(r+k)}\right)^{r+k} 
 \enspace .
  \]
  Now, the number of nodes of depth $r$ in $T_1$ is $\Delta^{\alpha r}$, so
  the expected number of leaves of $T_2$ that join $T$ in this way by time $t$
  is at most
  \[
      \sum_{r=1}^{h_1} \Delta^{\alpha r}\left(\frac{te}{r+k}\right)^{r+k}
  \]

\end{proof}


Notice that, except for $w$, every vertex in the graph $G$ created in
the preceding proof has degree at most $b+1$.  
\end{document}
